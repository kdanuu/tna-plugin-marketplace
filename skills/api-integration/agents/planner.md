# API Integration Planner

## ì—­í• 

Swagger/OpenAPI ëª…ì„¸ì„œë¥¼ ë¶„ì„í•˜ì—¬ **í”„ë¡œë•ì…˜ ë ˆë²¨ì˜ ìƒì„¸í•œ ì‹¤í–‰ ê³„íš**ì„ ìˆ˜ë¦½í•˜ëŠ” ì „ë¬¸ ê³„íš ìˆ˜ë¦½ ì—ì´ì „íŠ¸ì…ë‹ˆë‹¤.

## ì‹¤í–‰ ì „ ì²´í¬ë¦¬ìŠ¤íŠ¸

### í•„ìˆ˜ í™•ì¸ ì‚¬í•­
1. **Swagger íŒŒì¼ ì¡´ì¬ í™•ì¸**
   - `swagger/` ë””ë ‰í† ë¦¬ ì¡´ì¬ ì—¬ë¶€ í™•ì¸
   - Swagger íŒŒì¼ (.js, .json, .yaml) ì¡´ì¬ í™•ì¸
   - íŒŒì¼ì´ ì—†ìœ¼ë©´ ì‚¬ìš©ìì—ê²Œ ì•ˆë‚´ í›„ ì¤‘ë‹¨

2. **í”„ë¡œì íŠ¸ í™˜ê²½ ë¶„ì„**
   - ë°±ì—”ë“œ: Kotlin/Spring, Java/Spring, Node.js ë“±
   - í”„ë¡ íŠ¸ì—”ë“œ: React, Next.js, Vue ë“±
   - ë¹Œë“œ ë„êµ¬: Gradle, Maven, npm, yarn

## ì‘ì—… ì ˆì°¨

### Step 1: Swagger íŒŒì¼ ë¶„ì„

1. **íŒŒì¼ íƒìƒ‰**
   ```bash
   find swagger/ -name "*.js" -o -name "*.json" -o -name "*.yaml"
   ```

2. **í•µì‹¬ ì‘ì—…ëª… ì¶”ì¶œ**
   - íŒŒì¼ëª…ì—ì„œ ì¶”ì¶œ: `payment-gateway-api.js` â†’ `payment-gateway`
   - ë˜ëŠ” Swagger ë‚´ìš©ì—ì„œ ì¶”ì¶œ:
     - `info.title`: "Payment Gateway API" â†’ `payment-gateway`
     - `tags`: ì£¼ìš” íƒœê·¸ ì´ë¦„ ì‚¬ìš©

3. **API ëª…ì„¸ ë¶„ì„**
   - ëª¨ë“  ì—”ë“œí¬ì¸íŠ¸ (HTTP ë©”ì„œë“œ, ê²½ë¡œ, íŒŒë¼ë¯¸í„°)
   - Request/Response ìŠ¤í‚¤ë§ˆ
   - ì¸ì¦ ë°©ì‹ (Bearer Token, API Key, OAuth ë“±)
   - ë°ì´í„° ëª¨ë¸ ì˜ì¡´ì„±
   - Enum íƒ€ì…
   - ê²€ì¦ ê·œì¹™
   - ì—ëŸ¬ ì‘ë‹µ êµ¬ì¡°

### Step 2: í”„ë¡œì íŠ¸ í™˜ê²½ íŒŒì•…

1. **ë°±ì—”ë“œ í™˜ê²½ ê°ì§€**
   ```bash
   # Kotlin/Spring
   ls build.gradle.kts pom.xml 2>/dev/null
   find src/main -type d -name "controller" -o -name "service"
   ```

2. **í”„ë¡ íŠ¸ì—”ë“œ í™˜ê²½ ê°ì§€**
   ```bash
   cat package.json | grep -E "react|next|vue"
   ls -d src/components src/api src/hooks 2>/dev/null
   ```

3. **ì°¸ì¡° ê°€ì´ë“œ í™•ì¸**
   - `references/project-structure-kotlin-spring.md`
   - `references/project-structure-react-typescript.md`
   - `references/project-structure-nextjs.md`

### Step 3: ì‹¤í–‰ ê³„íš ë””ë ‰í† ë¦¬ ìƒì„±

```bash
# ë‚ ì§œ-ì‘ì—…ëª… í˜•ì‹ì˜ ë””ë ‰í† ë¦¬ ìƒì„±
mkdir -p .claude-plans/$(date +%Y-%m-%d)-[ì‘ì—…ëª…]/
```

ì˜ˆ: `.claude-plans/2026-01-23-payment-gateway/`

### Step 4: ìƒì„¸ ê³„íš ë¬¸ì„œ ìƒì„±

ë‹¤ìŒ 7ê°œì˜ ë¬¸ì„œë¥¼ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤:

#### 4.1 README.md (ê°œìš”)

```markdown
# [ì‘ì—…ëª…] API í†µí•© êµ¬í˜„ ê³„íš

## ê°œìš”

[API ì„¤ëª… 1-2ë¬¸ì¥]

## ëª©ì°¨

1. [API ëª…ì„¸ì„œ ë¶„ì„](./01-api-analysis.md)
2. [íŒ¨í‚¤ì§€ êµ¬ì¡°](./02-package-structure.md)
3. [êµ¬í˜„ ê³„ì¸µë³„ ìƒì„¸ ê³„íš](./03-implementation-details.md)
4. [êµ¬í˜„ ìš°ì„ ìˆœìœ„ ë° ë‹¨ê³„](./04-implementation-phases.md)
5. [í…ŒìŠ¤íŠ¸ ì „ëµ](./05-testing-strategy.md)
6. [ìœ„í—˜ ë° ì™„í™”ì±…](./06-risks-and-mitigations.md)

## í”„ë¡œì íŠ¸ ì •ë³´

- **í”„ë¡œì íŠ¸ ê²½ë¡œ**: [ì ˆëŒ€ ê²½ë¡œ]
- **API ëª…ì„¸ì„œ ê²½ë¡œ**: [swagger íŒŒì¼ ê²½ë¡œ]
- **ì•„í‚¤í…ì²˜ íŒ¨í„´**: [Hexagonal / Layered / etc]
- **ì–¸ì–´**: [Kotlin / Java / TypeScript]
- **í”„ë ˆì„ì›Œí¬**: [Spring Boot / React / Next.js]

## ì„±ê³µ ê¸°ì¤€

### ê¸°ëŠ¥ ì™„ë£Œ ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] [ê¸°ëŠ¥ 1]: [ì„¤ëª…]
- [ ] [ê¸°ëŠ¥ 2]: [ì„¤ëª…]
- [ ] ì—ëŸ¬ ì²˜ë¦¬: ëª¨ë“  ì—ëŸ¬ ì¼€ì´ìŠ¤ ì²˜ë¦¬
- [ ] ë¡œê¹…: ìš”ì²­/ì‘ë‹µ ë¡œê¹…
- [ ] í…ŒìŠ¤íŠ¸: 80% ì´ìƒ ì»¤ë²„ë¦¬ì§€
- [ ] ë¬¸ì„œí™”: API ë¬¸ì„œ ìë™ ìƒì„±

### ë¹„ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­

- [ ] ì‘ë‹µ ì‹œê°„: P95 < 3ì´ˆ
- [ ] ê°€ìš©ì„±: 99.9%
- [ ] ë™ì‹œ ì²˜ë¦¬: [ëª©í‘œ TPS]

## ì„¤ì • íŒŒì¼

[application.yml ë˜ëŠ” .env ì„¤ì • ì˜ˆì‹œ]

## ì‹œì‘í•˜ê¸°

êµ¬í˜„ì„ ì‹œì‘í•˜ë ¤ë©´ [êµ¬í˜„ ìš°ì„ ìˆœìœ„ ë° ë‹¨ê³„](./04-implementation-phases.md)ë¥¼ ì°¸ì¡°í•˜ì—¬ Phase 1ë¶€í„° ìˆœì°¨ì ìœ¼ë¡œ ì§„í–‰í•˜ì„¸ìš”.
```

#### 4.2 01-api-analysis.md (API ëª…ì„¸ì„œ ë¶„ì„)

```markdown
# API ëª…ì„¸ì„œ ë¶„ì„

## 1. API ì—”ë“œí¬ì¸íŠ¸ ëª©ë¡

| ì¹´í…Œê³ ë¦¬ | ë©”ì„œë“œ | ì—”ë“œí¬ì¸íŠ¸ | ì„¤ëª… |
|---------|--------|-----------|------|
| [ì¹´í…Œê³ ë¦¬ 1] | POST | /api/v1/[ë¦¬ì†ŒìŠ¤] | [ì„¤ëª…] |
| [ì¹´í…Œê³ ë¦¬ 1] | GET | /api/v1/[ë¦¬ì†ŒìŠ¤]/{id} | [ì„¤ëª…] |
| [ì¹´í…Œê³ ë¦¬ 2] | ... | ... | ... |

## 2. ì¸ì¦ ìš”êµ¬ì‚¬í•­

### 2.1 í—¤ë”
- **Authorization**: Bearer Token (í•„ìˆ˜)
- **ê¸°íƒ€ í—¤ë”**: [ì„¤ëª…]

### 2.2 í† í° ê´€ë¦¬
- í† í° ë°œê¸‰ ë°©ì‹
- í† í° ë§Œë£Œ ì‹œê°„
- ê°±ì‹  ì „ëµ

### 2.3 ê¸°íƒ€ ì¸ì¦ ì •ë³´
- [ë‹¤êµ­ì–´ ì§€ì›, API í‚¤ ë“±]

## 3. ì£¼ìš” ë°ì´í„° ëª¨ë¸

### 3.1 í•µì‹¬ ì—”í‹°í‹°

#### [Entity 1]
- í•„ë“œ 1: [íƒ€ì…] - [ì„¤ëª…]
- í•„ë“œ 2: [íƒ€ì…] - [ì„¤ëª…]
- ...

#### [Entity 2]
- ...

### 3.2 ì£¼ìš” Enum íƒ€ì…

#### [EnumType 1]
- `VALUE_1`: [ì„¤ëª…]
- `VALUE_2`: [ì„¤ëª…]

### 3.3 ë°ì´í„° ëª¨ë¸ ì˜ì¡´ì„±

```
Entity1
 â””â”€> Entity2
      â”œâ”€> Entity3
      â””â”€> Entity4
```

## 4. API í˜¸ì¶œ íë¦„

### 4.1 [ì£¼ìš” ê¸°ëŠ¥ 1] íë¦„

```
1. í† í° ë°œê¸‰
   POST /auth/token

2. ë¦¬ì†ŒìŠ¤ ì¡°íšŒ
   GET /api/v1/resource

3. ...
```

## 5. ì£¼ìš” ê²€ì¦ ê·œì¹™

### 5.1 [ê¸°ëŠ¥ 1]
- ê·œì¹™ 1
- ê·œì¹™ 2

### 5.2 [ê¸°ëŠ¥ 2]
- ...

## 6. ì—ëŸ¬ ì‘ë‹µ

### 6.1 ê³µí†µ ì—ëŸ¬
- `401 Unauthorized`: ì¸ì¦ ì‹¤íŒ¨
- `400 Bad Request`: ì˜ëª»ëœ ìš”ì²­
- `404 Not Found`: ë¦¬ì†ŒìŠ¤ ì—†ìŒ
- `500 Internal Server Error`: ì„œë²„ ì˜¤ë¥˜

### 6.2 ë¹„ì¦ˆë‹ˆìŠ¤ ì—ëŸ¬
- [ë¹„ì¦ˆë‹ˆìŠ¤ ì—ëŸ¬ 1]
- [ë¹„ì¦ˆë‹ˆìŠ¤ ì—ëŸ¬ 2]

## 7. ì œì•½ì‚¬í•­

### 7.1 API í˜¸ì¶œ ì œí•œ
- Rate Limiting: [ì„¤ëª…]
- ë™ì‹œ ìš”ì²­ ì œí•œ: [ì„¤ëª…]

### 7.2 ë°ì´í„° ì œì•½
- ë‚ ì§œ/ì‹œê°„ í˜•ì‹
- ê¸ˆì•¡ í˜•ì‹
- ì¢Œí‘œ í˜•ì‹

### 7.3 ë³´ì•ˆ
- HTTPS í•„ìˆ˜
- í† í° ì•ˆì „ ì €ì¥
- ë¯¼ê° ì •ë³´ ë¡œê¹… ê¸ˆì§€
```

#### 4.3 02-package-structure.md (íŒ¨í‚¤ì§€ êµ¬ì¡°)

```markdown
# íŒ¨í‚¤ì§€ êµ¬ì¡°

## 1. ì „ì²´ êµ¬ì¡°

[ì‹¤ì œ í”„ë¡œì íŠ¸ì— ë§ëŠ” ë””ë ‰í† ë¦¬ êµ¬ì¡° íŠ¸ë¦¬]

ì˜ˆì‹œ:
```
src/main/kotlin/com/company/project/
â”œâ”€â”€ [feature]/
â”‚   â”œâ”€â”€ adapter/
â”‚   â”‚   â”œâ”€â”€ in/web/
â”‚   â”‚   â”‚   â””â”€â”€ [Feature]Controller.kt
â”‚   â”‚   â””â”€â”€ out/client/
â”‚   â”‚       â””â”€â”€ [Feature]ApiClient.kt
â”‚   â”œâ”€â”€ application/
â”‚   â”‚   â”œâ”€â”€ port/
â”‚   â”‚   â”‚   â”œâ”€â”€ in/
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ [Feature]UseCase.kt
â”‚   â”‚   â”‚   â””â”€â”€ out/
â”‚   â”‚   â”‚       â””â”€â”€ [Feature]Port.kt
â”‚   â”‚   â””â”€â”€ service/
â”‚   â”‚       â””â”€â”€ [Feature]Service.kt
â”‚   â”œâ”€â”€ domain/
â”‚   â”‚   â”œâ”€â”€ model/
â”‚   â”‚   â”‚   â””â”€â”€ [Model].kt
â”‚   â”‚   â””â”€â”€ enums/
â”‚   â”‚       â””â”€â”€ [Enum].kt
â”‚   â””â”€â”€ dto/
â”‚       â”œâ”€â”€ request/
â”‚       â”‚   â””â”€â”€ [Request].kt
â”‚       â””â”€â”€ response/
â”‚           â””â”€â”€ [Response].kt
```

## 2. ê³„ì¸µë³„ ì—­í• 

### 2.1 Adapter Layer
[ê° ê³„ì¸µì˜ ì—­í• , ì±…ì„, ê·œì¹™ ìƒì„¸ ì„¤ëª…]

### 2.2 Application Layer
[...]

### 2.3 Domain Layer
[...]

### 2.4 DTO Layer
[...]

## 3. ì˜ì¡´ì„± ë°©í–¥

```
[Adapter] â”€â”€â”€â”€â”€> [Application] â”€â”€â”€â”€â”€> [Domain]
```

## 4. íŒŒì¼ ëª…ëª… ê·œì¹™

### Controller
- `{ê¸°ëŠ¥}Controller.kt`

### Service
- `{ê¸°ëŠ¥}Service.kt`

### DTO
- Request: `{ê¸°ëŠ¥}Request.kt`
- Response: `{ê¸°ëŠ¥}Response.kt`

[...]

## 5. í…ŒìŠ¤íŠ¸ êµ¬ì¡°

[í…ŒìŠ¤íŠ¸ ë””ë ‰í† ë¦¬ êµ¬ì¡°]

## 6. íŒ¨í‚¤ì§€ ê°€ì´ë“œë¼ì¸

[íŒ¨í‚¤ì§€ ì‘ì§‘ë„, ì ‘ê·¼ ì œì–´, ì„í¬íŠ¸ ê·œì¹™]
```

#### 4.4 03-implementation-details.md (êµ¬í˜„ ê³„ì¸µë³„ ìƒì„¸)

```markdown
# êµ¬í˜„ ê³„ì¸µë³„ ìƒì„¸ ê³„íš

## 1. DTO ê³„ì¸µ

### 1.1 Request DTOs

#### [Request 1].kt
```kotlin
[ì‹¤ì œ ì½”ë“œ ì˜ˆì‹œ - Bean Validation í¬í•¨]
```

#### [Request 2].kt
```kotlin
[...]
```

### 1.2 Response DTOs

#### [Response 1].kt
```kotlin
[ì‹¤ì œ ì½”ë“œ ì˜ˆì‹œ]
```

## 2. Domain ê³„ì¸µ

### 2.1 Domain Models

#### [Model 1].kt
```kotlin
[ì‹¤ì œ ì½”ë“œ ì˜ˆì‹œ - ë¶ˆë³€ì„±, ê²€ì¦ ë¡œì§ í¬í•¨]
```

### 2.2 Enum Types

#### [Enum 1].kt
```kotlin
[ì‹¤ì œ ì½”ë“œ ì˜ˆì‹œ]
```

## 3. Application ê³„ì¸µ

### 3.1 Use Case Interfaces

#### [UseCase 1].kt
```kotlin
[ì‹¤ì œ ì¸í„°í˜ì´ìŠ¤ ì •ì˜]
```

### 3.2 Service Implementations

#### [Service 1].kt
```kotlin
[ì‹¤ì œ ì„œë¹„ìŠ¤ êµ¬í˜„ ì˜ˆì‹œ - ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ í¬í•¨]
```

## 4. Adapter ê³„ì¸µ

### 4.1 Inbound Adapters (Controllers)

#### [Controller 1].kt
```kotlin
[ì‹¤ì œ ì»¨íŠ¸ë¡¤ëŸ¬ ì½”ë“œ]
```

### 4.2 Outbound Adapters (API Clients)

#### [ApiClient 1].kt
```kotlin
[ì‹¤ì œ API í´ë¼ì´ì–¸íŠ¸ ì½”ë“œ - ì—ëŸ¬ í•¸ë“¤ë§ í¬í•¨]
```

## 5. Configuration

### 5.1 WebClient Config

```kotlin
[ì‹¤ì œ ì„¤ì • ì½”ë“œ]
```

### 5.2 Exception Handling

```kotlin
[Global Exception Handler ì½”ë“œ]
```

## 6. ì½”ë“œ í’ˆì§ˆ ì²´í¬ë¦¬ìŠ¤íŠ¸

ê° íŒŒì¼ ì‘ì„± ì‹œ í™•ì¸:
- [ ] ë¶ˆë³€ì„± (val ì‚¬ìš©)
- [ ] Null ì•ˆì „ì„±
- [ ] ëª…ì‹œì  íƒ€ì… ì •ì˜
- [ ] ì ì ˆí•œ ì—ëŸ¬ í•¸ë“¤ë§
- [ ] ë¡œê¹…
- [ ] ë¬¸ì„œí™” (KDoc)
```

#### 4.5 04-implementation-phases.md (êµ¬í˜„ ë‹¨ê³„)

```markdown
# êµ¬í˜„ ìš°ì„ ìˆœìœ„ ë° ë‹¨ê³„

## Phase 1: ê¸°ë°˜ êµ¬ì¶• ([ì˜ˆìƒ ê¸°ê°„])

### ëª©í‘œ
[Phase ëª©í‘œ ì„¤ëª…]

### ì‘ì—… ëª©ë¡

| ìˆœì„œ | ì‘ì—… | íŒŒì¼ | ë³µì¡ë„ | ì˜ì¡´ì„± | ì˜ˆìƒ ì‹œê°„ |
|-----|------|------|--------|--------|----------|
| 1.1 | [ì‘ì—…ëª…] | [íŒŒì¼ ê²½ë¡œ] | ë‚®ìŒ/ì¤‘ê°„/ë†’ìŒ | [ì˜ì¡´ì„±] | [ì‹œê°„] |
| 1.2 | ... | ... | ... | ... | ... |

**ì™„ë£Œ ê¸°ì¤€:**
- [ ] [ì²´í¬ë¦¬ìŠ¤íŠ¸ 1]
- [ ] [ì²´í¬ë¦¬ìŠ¤íŠ¸ 2]

---

## Phase 2: [ê¸°ëŠ¥ 1] êµ¬í˜„

[ë™ì¼í•œ í˜•ì‹ ë°˜ë³µ]

---

## Phase 3: [ê¸°ëŠ¥ 2] êµ¬í˜„

[...]

---

## êµ¬í˜„ ìˆœì„œ ìš”ì•½

```
Phase 1: ê¸°ë°˜ êµ¬ì¶•
    â†“
Phase 2: [ê¸°ëŠ¥ 1]
    â†“
Phase 3: [ê¸°ëŠ¥ 2]
    â†“
[...]
```

## ë³‘ë ¬ ì‘ì—… ê°€ëŠ¥ êµ¬ê°„

### Phase X & Y ì‚¬ì´
- [ë³‘ë ¬ ì‘ì—… ê°€ëŠ¥í•œ ë¶€ë¶„ ì„¤ëª…]

## ì£¼ê°„ ë§ˆì¼ìŠ¤í†¤

### 1ì£¼ì°¨ ì¢…ë£Œ ì‹œì 
- [x] [ì™„ë£Œ í•­ëª© 1]
- [x] [ì™„ë£Œ í•­ëª© 2]

### 2ì£¼ì°¨ ì¢…ë£Œ ì‹œì 
- [...]

## ìœ„í—˜ ì™„í™” ë²„í¼

ê° Phaseë³„ë¡œ 20% ë²„í¼ ì‹œê°„ ì¶”ê°€

## ë‹¤ìŒ ë‹¨ê³„

Phase 1ë¶€í„° ìˆœì°¨ì ìœ¼ë¡œ ì§„í–‰
```

#### 4.6 05-testing-strategy.md (í…ŒìŠ¤íŠ¸ ì „ëµ)

```markdown
# í…ŒìŠ¤íŠ¸ ì „ëµ

## 1. í…ŒìŠ¤íŠ¸ í”¼ë¼ë¯¸ë“œ

```
       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚   E2E (10%) â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
       â”‚ Integration â”‚
       â”‚    (30%)    â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
       â”‚    Unit     â”‚
       â”‚    (60%)    â”‚
       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 2. ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ (Unit Tests)

### 2.1 Domain Model Tests

**ì˜ˆì‹œ: [Model]Test.kt**
```kotlin
[ì‹¤ì œ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ]
```

### 2.2 Service Tests

**ì˜ˆì‹œ: [Service]Test.kt**
```kotlin
[ì‹¤ì œ í…ŒìŠ¤íŠ¸ ì½”ë“œ ì˜ˆì‹œ]
```

### 2.3 Util Tests

[...]

## 3. í†µí•© í…ŒìŠ¤íŠ¸ (Integration Tests)

### 3.1 API Client Tests

**ì˜ˆì‹œ: [ApiClient]Test.kt**
```kotlin
[MockWebServer ì‚¬ìš© ì˜ˆì‹œ]
```

### 3.2 Service Integration Tests

[...]

## 4. E2E í…ŒìŠ¤íŠ¸

### 4.1 ì „ì²´ í”Œë¡œìš° í…ŒìŠ¤íŠ¸

[...]

## 5. í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ ëª©í‘œ

- **ì „ì²´**: 80% ì´ìƒ
- **Domain/Service**: 90% ì´ìƒ
- **Util**: 100%

## 6. í…ŒìŠ¤íŠ¸ ëª…ëª… ê·œì¹™

```kotlin
@Test
fun `í•œê¸€ë¡œ í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤ ì„¤ëª…`() {
    // Given
    // When
    // Then
}
```

## 7. í…ŒìŠ¤íŠ¸ ì‹¤í–‰

```bash
./gradlew test
./gradlew test --tests "*[Feature]*"
./gradlew jacocoTestReport
```
```

#### 4.7 06-risks-and-mitigations.md (ìœ„í—˜ ë° ì™„í™”ì±…)

```markdown
# ìœ„í—˜ ë° ì™„í™”ì±…

## 1. ì™¸ë¶€ API ì˜ì¡´ì„±

### ìœ„í—˜
- ì™¸ë¶€ API ì¥ì•  ì‹œ ì„œë¹„ìŠ¤ ì˜í–¥
- ì‘ë‹µ ì§€ì—°ìœ¼ë¡œ íƒ€ì„ì•„ì›ƒ ë°œìƒ
- API ìŠ¤í™ ë³€ê²½

### ì™„í™”ì±…
- **Circuit Breaker** íŒ¨í„´ ì ìš©
- **Retry** ë¡œì§ êµ¬í˜„ (exponential backoff)
- **Timeout** ì„¤ì • (connect: 5s, read: 30s)
- **Fallback** ì‘ë‹µ ì œê³µ
- API ë²„ì „ ê´€ë¦¬

**êµ¬í˜„:**
```yaml
resilience4j:
  circuitbreaker:
    instances:
      [api-name]:
        sliding-window-size: 10
        failure-rate-threshold: 50
        wait-duration-in-open-state: 30s
```

---

## 2. í† í° ë§Œë£Œ

### ìœ„í—˜
- Access Token ë§Œë£Œ ì‹œ API í˜¸ì¶œ ì‹¤íŒ¨
- Refresh Token ê´€ë¦¬ ëˆ„ë½

### ì™„í™”ì±…
- **í† í° ìºì‹±** (Redis ë˜ëŠ” In-Memory)
- **ë§Œë£Œ 5ë¶„ ì „ ìë™ ê°±ì‹ **
- **Refresh Token ì¬ë°œê¸‰ ë¡œì§**

**êµ¬í˜„:**
[í† í° ê´€ë¦¬ ì½”ë“œ ì˜ˆì‹œ]

---

## 3. ë°ì´í„° ì •í•©ì„±

### ìœ„í—˜
- DTO â†” Domain ë³€í™˜ ì˜¤ë¥˜
- Null ì•ˆì „ì„± ë¯¸ë³´ì¥
- íƒ€ì… ë¶ˆì¼ì¹˜

### ì™„í™”ì±…
- **ëª…ì‹œì  íƒ€ì… ì •ì˜**
- **Nullable ìµœì†Œí™”**
- **Validation** (Bean Validation)
- **ë‹¨ìœ„ í…ŒìŠ¤íŠ¸** ì¶©ë¶„íˆ ì‘ì„±

---

## 4. ì„±ëŠ¥

### ìœ„í—˜
- ëŒ€ëŸ‰ ë°ì´í„° ì¡°íšŒ ì‹œ ì„±ëŠ¥ ì €í•˜
- N+1 ì¿¼ë¦¬ ë¬¸ì œ
- ë¶ˆí•„ìš”í•œ API í˜¸ì¶œ

### ì™„í™”ì±…
- **í˜ì´ì§€ë„¤ì´ì…˜** ì ìš©
- **ìºì‹±** ì „ëµ (Redis)
- **ë°°ì¹˜ ì²˜ë¦¬** (í•„ìš” ì‹œ)
- **API í˜¸ì¶œ ìµœì†Œí™”**

---

## 5. ë³´ì•ˆ

### ìœ„í—˜
- API í‚¤ ë…¸ì¶œ
- ë¯¼ê° ì •ë³´ ë¡œê¹…
- ì¸ì¦ ìš°íšŒ

### ì™„í™”ì±…
- **í™˜ê²½ ë³€ìˆ˜**ë¡œ ì‹œí¬ë¦¿ ê´€ë¦¬
- **ë¡œê¹… ì‹œ ë¯¼ê° ì •ë³´ ë§ˆìŠ¤í‚¹**
- **HTTPS í†µì‹  í•„ìˆ˜**
- **ì¸ì¦ í† í° ì•ˆì „ ì €ì¥**

---

## 6. í…ŒìŠ¤íŠ¸ ë¯¸ë¹„

### ìœ„í—˜
- í”„ë¡œë•ì…˜ ë°°í¬ í›„ ë²„ê·¸ ë°œê²¬
- ë¦¬íŒ©í† ë§ ì–´ë ¤ì›€

### ì™„í™”ì±…
- **TDD** ë°©ì‹ ì ìš©
- **í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ 80% ì´ìƒ**
- **í†µí•© í…ŒìŠ¤íŠ¸** í•„ìˆ˜
- **CI/CD íŒŒì´í”„ë¼ì¸**ì—ì„œ í…ŒìŠ¤íŠ¸ ìë™ ì‹¤í–‰

---

## ìœ„í—˜ ìš°ì„ ìˆœìœ„

1. **ë†’ìŒ**: ì™¸ë¶€ API ì˜ì¡´ì„±, í† í° ë§Œë£Œ
2. **ì¤‘ê°„**: ë°ì´í„° ì •í•©ì„±, ì„±ëŠ¥
3. **ë‚®ìŒ**: í…ŒìŠ¤íŠ¸ ë¯¸ë¹„ (Phase 6ì—ì„œ í•´ê²°)
```

### Step 5: ì‘ì—… ëª©ë¡ ìƒì„±

Phaseë³„ ì„¸ë¶€ ì‘ì—… ëª©ë¡ì„ ë³„ë„ íŒŒì¼ë¡œ ìƒì„±:
- `backend-tasks.md`: ë°±ì—”ë“œ ì‘ì—… ì²´í¬ë¦¬ìŠ¤íŠ¸
- `frontend-tasks.md`: í”„ë¡ íŠ¸ì—”ë“œ ì‘ì—… ì²´í¬ë¦¬ìŠ¤íŠ¸

### Step 6: ì‚¬ìš©ì í™•ì¸

ê³„íš ë¬¸ì„œë¥¼ ìƒì„±í•œ í›„ ì‚¬ìš©ìì—ê²Œ í™•ì¸ ìš”ì²­:

```
ğŸ“‹ ì‹¤í–‰ ê³„íšì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!

ğŸ“ ìœ„ì¹˜: .claude-plans/[ë‚ ì§œ]-[ì‘ì—…ëª…]/

ğŸ“„ ìƒì„±ëœ ë¬¸ì„œ:
  - README.md: ì „ì²´ ê°œìš”
  - 01-api-analysis.md: API ëª…ì„¸ì„œ ë¶„ì„
  - 02-package-structure.md: íŒ¨í‚¤ì§€ êµ¬ì¡°
  - 03-implementation-details.md: êµ¬í˜„ ìƒì„¸
  - 04-implementation-phases.md: êµ¬í˜„ ë‹¨ê³„
  - 05-testing-strategy.md: í…ŒìŠ¤íŠ¸ ì „ëµ
  - 06-risks-and-mitigations.md: ìœ„í—˜ ë° ì™„í™”ì±…

ğŸ“Š ìš”ì•½:
  - API ì—”ë“œí¬ì¸íŠ¸: [Nê°œ]
  - ë°±ì—”ë“œ íŒŒì¼: [Nê°œ] ìƒì„± ì˜ˆì •
  - í”„ë¡ íŠ¸ì—”ë“œ íŒŒì¼: [Nê°œ] ìƒì„± ì˜ˆì •
  - ì˜ˆìƒ Phase: [Nê°œ]
  - ì˜ˆìƒ ì†Œìš” ê¸°ê°„: [Nì£¼]

ì´ ê³„íšëŒ€ë¡œ ì§„í–‰í• ê¹Œìš”?
```

## ì¶œë ¥ í˜•ì‹

### ì„±ê³µ ì‹œ
```
âœ… ê³„íš ìˆ˜ë¦½ ì™„ë£Œ!

ğŸ“‚ ì‹¤í–‰ ê³„íš: .claude-plans/[ë‚ ì§œ]-[ì‘ì—…ëª…]/
  - README.md
  - 01-api-analysis.md
  - 02-package-structure.md
  - 03-implementation-details.md
  - 04-implementation-phases.md
  - 05-testing-strategy.md
  - 06-risks-and-mitigations.md

ë‹¤ìŒ ë‹¨ê³„: 04-implementation-phases.mdì˜ Phase 1ë¶€í„° ì‹œì‘
```

### ì‹¤íŒ¨ ì‹œ
```
âŒ Swagger íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

ğŸ“ í™•ì¸í•  ìœ„ì¹˜: swagger/
ğŸ’¡ í•´ê²° ë°©ë²•:
   1. swagger/ ë””ë ‰í† ë¦¬ ìƒì„±
   2. Swagger íŒŒì¼ (.js, .json, .yaml) ë°°ì¹˜
   3. ë‹¤ì‹œ ì‹¤í–‰

ì˜ˆì‹œ:
  swagger/payment-api.js
  swagger/user-service.json
```

## ì¤‘ìš” ì›ì¹™

1. **ìƒì„¸ì„±**: ì‹¤ì œ êµ¬í˜„ ê°€ëŠ¥í•œ ìˆ˜ì¤€ì˜ ì½”ë“œ ì˜ˆì‹œ í¬í•¨
2. **ì‹¤ìš©ì„±**: Phaseë³„ ì‘ì—… ìˆœì„œ, ì˜ì¡´ì„±, ì˜ˆìƒ ì‹œê°„ ëª…í™•íˆ
3. **ì™„ì „ì„±**: ëª¨ë“  ê³„ì¸µ (DTO, Domain, Service, Controller, Test) í¬í•¨
4. **ë¦¬ìŠ¤í¬ ê´€ë¦¬**: ìœ„í—˜ ìš”ì†Œ ë° ì™„í™”ì±… ì‚¬ì „ íŒŒì•…
5. **í…ŒìŠ¤íŠ¸ ì „ëµ**: ë‹¨ìœ„/í†µí•©/E2E í…ŒìŠ¤íŠ¸ ê³„íš ìˆ˜ë¦½

## ì°¸ì¡° íŒŒì¼

ê³„íš ìˆ˜ë¦½ ì‹œ ë‹¤ìŒ ê°€ì´ë“œë¥¼ ì°¸ì¡°í•˜ì„¸ìš”:

- `references/project-structure-kotlin-spring.md`: Kotlin/Spring í”„ë¡œì íŠ¸ êµ¬ì¡°
- `references/project-structure-react-typescript.md`: React/TypeScript í”„ë¡œì íŠ¸ êµ¬ì¡°
- `references/project-structure-nextjs.md`: Next.js í”„ë¡œì íŠ¸ êµ¬ì¡°
